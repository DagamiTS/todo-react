(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{30:function(t,e,a){},33:function(t,e,a){t.exports=a.p+"static/media/remove.a980d6ac.svg"},34:function(t,e,a){t.exports=a.p+"static/media/close.14e2f379.svg"},35:function(t,e,a){t.exports=a.p+"static/media/edit.77e1ba27.svg"},36:function(t,e,a){t.exports=a.p+"static/media/add.0ad8e57b.svg"},38:function(t,e,a){t.exports=a(69)},60:function(t,e,a){},61:function(t,e,a){},62:function(t,e,a){},68:function(t,e,a){},69:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),o=a(32),i=a.n(o),l=a(10),s=a(20),r=a(7),m=a(3),u=a.n(m),d=a(17),f=a(15),p=a.n(f),C=a(14),h=(a(60),function(t){var e=t.color,a=t.onClick,n=t.className;return c.a.createElement("i",{onClick:a,className:p()("badge",Object(C.a)({},"badge--".concat(e),e),n)})}),v=a(33),k=a.n(v),E=(a(61),function(t){var e=t.items,a=t.isRemovable,n=t.onClick,o=t.onRemove,i=t.onClickItem,l=t.activeItem;return c.a.createElement("ul",{onClick:n,className:"list"},e.map((function(t,e){return c.a.createElement("li",{key:e,className:p()(t.className,{active:t.active?t.active:l&&l.id===t.id}),onClick:i?function(){return i(t)}:null},c.a.createElement("i",null,t.icon?t.icon:c.a.createElement(h,{color:t.color.name})),c.a.createElement("span",null,t.name,t.tasks&&" (".concat(t.tasks.length,")")),a&&c.a.createElement("img",{className:"list__remove-icon",src:k.a,alt:"Remove icon",onClick:function(){return function(t){window.confirm("Do you really want to delete this list?")&&u.a.delete("http://localhost:3001/lists/".concat(t.id)).then((function(){return o(t.id)}))}(t)}}))})))}),b=a(34),g=a.n(b),w=(a(62),function(t){var e=t.colors,a=t.onAdd,o=Object(n.useState)(!1),i=Object(r.a)(o,2),l=i[0],s=i[1],m=Object(n.useState)(3),f=Object(r.a)(m,2),p=f[0],C=f[1],v=Object(n.useState)(!1),k=Object(r.a)(v,2),b=k[0],w=k[1],j=Object(n.useState)(""),O=Object(r.a)(j,2),N=O[0],_=O[1];Object(n.useEffect)((function(){Array.isArray(e)&&C(e[0].id)}),[e]);var x=function(){s(!1),_(""),C(e[0].id)};return c.a.createElement("div",{className:"add-list"},c.a.createElement(E,{onClick:function(){return s(!0)},items:[{className:"list__add-button",icon:c.a.createElement("svg",{height:"10pt",viewBox:"0 0 426.66667 426.66667",width:"10pt",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"m405.332031 192h-170.664062v-170.667969c0-11.773437-9.558594-21.332031-21.335938-21.332031-11.773437 0-21.332031 9.558594-21.332031 21.332031v170.667969h-170.667969c-11.773437 0-21.332031 9.558594-21.332031 21.332031 0 11.777344 9.558594 21.335938 21.332031 21.335938h170.667969v170.664062c0 11.777344 9.558594 21.335938 21.332031 21.335938 11.777344 0 21.335938-9.558594 21.335938-21.335938v-170.664062h170.664062c11.777344 0 21.335938-9.558594 21.335938-21.335938 0-11.773437-9.558594-21.332031-21.335938-21.332031zm0 0"})),name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"}]}),l&&c.a.createElement("div",{className:"add-list__popup"},c.a.createElement("img",{onClick:x,src:g.a,alt:"close button",className:"add-list__popup-close-btn"}),c.a.createElement("input",{value:N,onChange:function(t){return _(t.target.value)},className:"field",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438"}),c.a.createElement("div",{className:"add-list__popup-colors"},e.map((function(t){return c.a.createElement(h,{onClick:function(){return C(t.id)},key:t.id,color:t.name,className:p===t.id&&"active"})}))),c.a.createElement("button",{onClick:function(){if(N){w(!0);var t=e.filter((function(t){return t.id===p}))[0];u.a.post("http://localhost:3001/lists",{name:N,colorId:p}).then((function(e){var n=e.data,c=Object(d.a)(Object(d.a)({},n),{},{color:t,tasks:[]});a(c),x()})).catch((function(){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0441\u043f\u0438\u0441\u043a\u0430!")})).finally((function(){return w(!1)}))}else alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430")},className:"button"},b?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}),j=a(35),O=a.n(j),N=(a(30),a(36)),_=a.n(N),x=function(t){var e=t.list,a=t.onAddTask,o=Object(n.useState)(!1),i=Object(r.a)(o,2),l=i[0],s=i[1],m=Object(n.useState)(""),d=Object(r.a)(m,2),f=d[0],p=d[1],C=Object(n.useState)(!1),h=Object(r.a)(C,2),v=h[0],k=h[1],E=function(){s(!l),p("")};return c.a.createElement("div",{className:"tasks__form"},l?c.a.createElement("div",{className:"tasks__form-block"},c.a.createElement("input",{className:"field",type:"text",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",value:f,onChange:function(t){return p(t.target.value)}}),c.a.createElement("button",{disabled:v,className:"button",onClick:function(){k(!0);var t={listId:e.id,text:f,completed:!1};u.a.post("http://localhost:3001/tasks",t).then((function(t){var n=t.data;a(e.id,n),E()})).catch((function(){return alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438!")})).finally((function(){return k(!1)}))}},v?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"),c.a.createElement("button",{className:"button button--grey",onClick:E},"\u041e\u0442\u043c\u0435\u043d\u0430")):c.a.createElement("div",{onClick:E,className:"tasks__form-new"},c.a.createElement("img",{src:_.a,alt:"Add icon"}),c.a.createElement("span",null,"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430")))},y=function(t){var e=t.id,a=t.text,n=t.list,o=t.onRemove,i=t.onEdit,l=t.onComplete,s=t.completed;return c.a.createElement("div",{key:e,className:"tasks__items-row"},c.a.createElement("div",{className:"checkbox"},c.a.createElement("input",{id:"task-".concat(e),type:"checkbox",checked:s,onChange:function(t){l(n.id,e,t.target.checked)}}),c.a.createElement("label",{htmlFor:"task-".concat(e)},c.a.createElement("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M9.29999 1.20001L3.79999 6.70001L1.29999 4.20001",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))),c.a.createElement("p",null,a),c.a.createElement("div",{className:"tasks__items-row-actions"},c.a.createElement("div",{onClick:function(){return i(n.id,{id:e,text:a})}},c.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M0 12.0504V14.5834C0 14.8167 0.183308 15 0.41661 15H2.9496C3.05792 15 3.16624 14.9583 3.24123 14.875L12.34 5.78458L9.21542 2.66001L0.124983 11.7504C0.0416611 11.8338 0 11.9338 0 12.0504ZM14.7563 3.36825C14.8336 3.29116 14.8949 3.1996 14.9367 3.0988C14.9785 2.99801 15 2.88995 15 2.78083C15 2.6717 14.9785 2.56365 14.9367 2.46285C14.8949 2.36205 14.8336 2.27049 14.7563 2.19341L12.8066 0.24367C12.7295 0.166428 12.6379 0.105146 12.5372 0.0633343C12.4364 0.021522 12.3283 0 12.2192 0C12.1101 0 12.002 0.021522 11.9012 0.0633343C11.8004 0.105146 11.7088 0.166428 11.6318 0.24367L10.107 1.76846L13.2315 4.89304L14.7563 3.36825Z",fill:"#7C7C7C"}))),c.a.createElement("div",{onClick:function(){return o(n.id,e)}},c.a.createElement("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M10.315 0C4.62737 0 0 4.62737 0 10.315C0 16.0026 4.62737 20.63 10.315 20.63C16.0026 20.63 20.63 16.0026 20.63 10.315C20.63 4.62737 16.0026 0 10.315 0ZM14.0497 12.928C14.1265 13.0009 14.1879 13.0885 14.2303 13.1855C14.2727 13.2826 14.2952 13.3872 14.2966 13.4931C14.298 13.599 14.2781 13.7041 14.2382 13.8022C14.1983 13.9003 14.1392 13.9894 14.0643 14.0643C13.9894 14.1392 13.9003 14.1983 13.8022 14.2382C13.7041 14.2781 13.599 14.298 13.4931 14.2966C13.3872 14.2952 13.2826 14.2727 13.1855 14.2303C13.0885 14.1879 13.0009 14.1265 12.928 14.0497L10.315 11.4373L7.70203 14.0497C7.55202 14.1922 7.35226 14.2705 7.14536 14.2679C6.93846 14.2652 6.74077 14.1819 6.59446 14.0355C6.44814 13.8892 6.36477 13.6915 6.36212 13.4846C6.35947 13.2777 6.43775 13.078 6.58028 12.928L9.19275 10.315L6.58028 7.70203C6.43775 7.55202 6.35947 7.35226 6.36212 7.14536C6.36477 6.93846 6.44814 6.74077 6.59446 6.59446C6.74077 6.44814 6.93846 6.36477 7.14536 6.36212C7.35226 6.35947 7.55202 6.43775 7.70203 6.58028L10.315 9.19275L12.928 6.58028C13.078 6.43775 13.2777 6.35947 13.4846 6.36212C13.6915 6.36477 13.8892 6.44814 14.0355 6.59446C14.1819 6.74077 14.2652 6.93846 14.2679 7.14536C14.2705 7.35226 14.1922 7.55202 14.0497 7.70203L11.4373 10.315L14.0497 12.928Z",fill:"#5C5C5C"})))))},L=function(t){var e=t.list,a=t.onEditTitle,n=t.onAddTask,o=t.onRemoveTask,i=t.onEditTask,s=t.onCompleteTask,r=t.withoutEmpty;return c.a.createElement("div",{className:"tasks"},c.a.createElement(l.b,{to:"/lists/".concat(e.id)},c.a.createElement("h2",{style:{color:e.color.hex},className:"tasks__title"},e.name,c.a.createElement("img",{src:O.a,alt:"Edit icon",onClick:function(){var t=window.prompt("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430",e.name);t&&(a(e.id,t),u.a.patch("http://localhost:3001/lists/".concat(e.id),{name:t}).catch((function(){return console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430")})))}}))),c.a.createElement("div",{className:"tasks__items"},!r&&e.tasks&&!e.tasks.length&&c.a.createElement("h2",null,"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"),e.tasks&&e.tasks.map((function(t){return c.a.createElement(y,Object.assign({key:t.id,list:e,onRemove:o,onEdit:i,onComplete:s},t))})),c.a.createElement(x,{key:e.id,list:e,onAddTask:n})))},T=a(1);var H=function(){var t=Object(n.useState)(null),e=Object(r.a)(t,2),a=e[0],o=e[1],i=Object(n.useState)(null),l=Object(r.a)(i,2),m=l[0],d=l[1],f=Object(n.useState)(null),p=Object(r.a)(f,2),C=p[0],h=p[1],v=Object(T.e)(),k=Object(T.f)();Object(n.useEffect)((function(){u.a.get("http://localhost:3001/lists?_expand=color&_embed=tasks").then((function(t){var e=t.data;return o(e)})),u.a.get("http://localhost:3001/colors").then((function(t){var e=t.data;return d(e)}))}),[]),Object(n.useEffect)((function(){var t=Number(k.pathname.split("lists/")[1]);if(a){var e=a.find((function(e){return e.id===t}));h(e)}}),[k.pathname,a]);var b=function(t,e){var n=a.map((function(a){return a.id===t&&(a.name=e),a}));o(n)},g=function(t,e){console.log(t,e);var n=a.map((function(a){return a.id===t&&(a.tasks=[].concat(Object(s.a)(a.tasks),[e])),a}));o(n)},j=function(t,e){if(window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?")){var n=a.map((function(a){return a.id===t&&(a.tasks=a.tasks.filter((function(t){return t.id!==e}))),a}));o(n),u.a.delete("http://localhost:3001/tasks/".concat(e)).catch((function(){return console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")}))}},O=function(t,e){var n=window.prompt("\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",e.text);if(n){var c=a.map((function(a){return a.id===t&&(a.tasks=a.tasks.map((function(t){return t.id===e.id&&(t.text=n),t}))),a}));o(c),u.a.patch("http://localhost:3001/tasks/".concat(e.id),{text:n}).catch((function(){return console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")}))}},N=function(t,e,n){var c=a.map((function(a){return a.id===t&&(a.tasks=a.tasks.map((function(t){return t.id===e&&(t.completed=n),t}))),a}));o(c),u.a.patch("http://localhost:3001/tasks/".concat(e),{completed:n}).catch((function(){return console.log("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")}))};return c.a.createElement("div",{className:"todo"},c.a.createElement("div",{className:"todo__sidebar"},c.a.createElement(E,{items:[{icon:c.a.createElement("svg",{width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M10.96 5.10001H5.74001C5.24321 5.10001 5.20001 5.50231 5.20001 6.00001C5.20001 6.49771 5.24321 6.90001 5.74001 6.90001H10.96C11.4568 6.90001 11.5 6.49771 11.5 6.00001C11.5 5.50231 11.4568 5.10001 10.96 5.10001ZM12.76 9.60001H5.74001C5.24321 9.60001 5.20001 10.0023 5.20001 10.5C5.20001 10.9977 5.24321 11.4 5.74001 11.4H12.76C13.2568 11.4 13.3 10.9977 13.3 10.5C13.3 10.0023 13.2568 9.60001 12.76 9.60001ZM5.74001 2.40001H12.76C13.2568 2.40001 13.3 1.99771 13.3 1.50001C13.3 1.00231 13.2568 0.600006 12.76 0.600006H5.74001C5.24321 0.600006 5.20001 1.00231 5.20001 1.50001C5.20001 1.99771 5.24321 2.40001 5.74001 2.40001ZM2.86001 5.10001H1.24001C0.743212 5.10001 0.700012 5.50231 0.700012 6.00001C0.700012 6.49771 0.743212 6.90001 1.24001 6.90001H2.86001C3.35681 6.90001 3.40001 6.49771 3.40001 6.00001C3.40001 5.50231 3.35681 5.10001 2.86001 5.10001ZM2.86001 9.60001H1.24001C0.743212 9.60001 0.700012 10.0023 0.700012 10.5C0.700012 10.9977 0.743212 11.4 1.24001 11.4H2.86001C3.35681 11.4 3.40001 10.9977 3.40001 10.5C3.40001 10.0023 3.35681 9.60001 2.86001 9.60001ZM2.86001 0.600006H1.24001C0.743212 0.600006 0.700012 1.00231 0.700012 1.50001C0.700012 1.99771 0.743212 2.40001 1.24001 2.40001H2.86001C3.35681 2.40001 3.40001 1.99771 3.40001 1.50001C3.40001 1.00231 3.35681 0.600006 2.86001 0.600006Z",fill:"black"})),name:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",active:"/todo-react/"===k.pathname}],onClickItem:function(){return v.push("/")}}),c.a.createElement(E,{items:a||[],isRemovable:!0,onRemove:function(t){var e=a.filter((function(e){return e.id!==t}));o(e)},onClickItem:function(t){return v.push("/todo-react/lists/".concat(t.id))},activeItem:C}),c.a.createElement(w,{onAdd:function(t){var e=[].concat(Object(s.a)(a),[t]);o(e)},colors:m})),c.a.createElement("div",{className:"todo__tasks"},c.a.createElement(T.a,{exact:!0,path:"/todo-react/"},a&&a.map((function(t){return c.a.createElement(L,{key:t.id,list:t,onEditTitle:b,onCompleteTask:N,onAddTask:g,onRemoveTask:j,onEditTask:O,withoutEmpty:!0})}))),c.a.createElement(T.a,{path:"/todo-react/lists/:id"},a&&C&&c.a.createElement(L,{list:C,onEditTitle:b,onCompleteTask:N,onAddTask:g,onRemoveTask:j,onEditTask:O}))))};a(68);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,null,c.a.createElement(H,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.28677c60.chunk.js.map